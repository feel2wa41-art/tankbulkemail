# SLA 운영 정책 (Service Level Agreement Policy v1)
본 문서는 Tank 자동 이메일 시스템을 고객사에 제공할 때 적용되는 **운영 서비스 수준 협약(SLA)**을 정의합니다.
개발사와 고객사 간의 책임 범위, 응답 시간, 복구 목표, 지원 체계 등을 명확히 하기 위한 문서입니다.

해당 SLA는 온프레미스 설치형 환경을 기준으로 하며, 실제 계약 시 조정 가능합니다.

---
# 1. SLA 목적
```
1) 시스템 운영 안정성 확보
2) 장애 발생 시 신속한 대응
3) 고객사와 개발사 간 역할 명확화
4) 서비스 품질 기준 정의
```

---
# 2. SLA 적용 범위
본 SLA는 아래 구성 요소에 대해 적용됩니다.
```
- Backend API (NestJS)
- Worker Engine (Scheduler + Email Processor)
- Frontend (Nginx 기반 React UI)
- DB 연동 기능 (Oracle Query)
- 파일 매칭 엔진
- AWS SES 연동 기능
```

단, 아래는 SLA 대상에서 제외됩니다:
- 고객사 Oracle DB 자체 장애
- 고객사 NAS/파일서버 장애
- 고객사 네트워크/보안장비 설정 관련 이슈
- AWS SES 자체 문제 (AWS SLA 적용)

---
# 3. 서비스 운영 시간(Service Operation Hours)
```
정규 운영 시간: 월요일 ~ 금요일 09:00 ~ 18:00 (공휴일 제외)
긴급 장애 지원: 24시간 (별도 계약 옵션)
```

---
# 4. 장애 등급 분류 (Severity Level)
장애는 다음 4단계로 분류합니다.

## ✔ SEV-1 (Critical)
```
- 이메일 발송 전체 중단
- Worker 작동 불가
- 스케줄 실행 불가
- 주요 페이지 로그인/접근 불가
```
필요 대응: 즉시 대응, 1~2시간 내 조치 착수

## ✔ SEV-2 (Major)
```
- 일부 Automation 장애
- 특정 부서 발송 오류 증가
- 첨부파일 대량 누락
```
필요 대응: 4시간 이내 조치 착수

## ✔ SEV-3 (Minor)
```
- 화면 일부 오류
- 특정 고객만 발송 오류
- 보고서 일부 데이터 오류
```
필요 대응: 24시간 이내 처리

## ✔ SEV-4 (Inquiry / Request)
```
- 기능 문의
- 설정 변경 요청
- 경미한 수정 요청
```
필요 대응: 3~5 영업일 내 처리

---
# 5. 장애 대응 시간 (Response Time)
| 장애 등급 | 최초 응답 시간 | 조치 착수 시간 |
|----------|-----------------|------------------|
| SEV-1 | 30분 이내 | 2시간 이내 |
| SEV-2 | 1시간 이내 | 4시간 이내 |
| SEV-3 | 4시간 이내 | 24시간 이내 |
| SEV-4 | 1일 이내 | 3~5일 내 |

---
# 6. 복구 목표 시간 (RTO)
RTO = 장애 발생 후 정상 복구까지의 시간

| 장애 등급 | RTO 목표 |
|------------|-----------|
| SEV-1 | 4시간 이내 |
| SEV-2 | 8시간 이내 |
| SEV-3 | 48시간 이내 |
| SEV-4 | 업무 영향 없는 일정 내 |

---
# 7. 데이터 손실 허용 범위 (RPO)
Tank 시스템은 실시간 처리 구조로 **데이터 손실 허용 범위 = 0**을 목표로 합니다.

단, 고객사 DB 자체 장애로 인한 손실은 개발사의 책임 범위가 아닙니다.

---
# 8. 지원 방식 (Support Channel)
```
1) 온라인 지원(Email / Ticket)
2) 원격 접속 지원(TeamViewer / AnyDesk)
3) 현장 지원 (별도 계약)
4) 월간 운영 리포트 제공 (옵션)
```

---
# 9. 장애 대응 절차 (Incident Handling Process)
```
1) 장애 접수 (고객사 → 개발사)
2) 장애 등급 분류 (SEV-1~4)
3) 로그 및 원인 분석
4) 즉시 조치 (패치/재시작/설정 수정)
5) 복구 확인
6) 재발 방지 대책 수립
7) 장애 보고서 제공
```

---
# 10. 정기 점검 및 유지관리
## ✔ 정기 점검 포함 항목
- Worker 정상 동작 여부
- Oracle 연동 상태
- 파일 매칭 실패 증가 여부
- SES 한도/품질 점검
- 로그 용량 점검

## ✔ 점검 주기
- 월 1회 (기본)
- 주 1회 (옵션)

---
# 11. 배포 및 업데이트 정책
```
정기 업데이트: 분기(3개월) 1회
긴급 패치: 장애 유형에 따라 즉시 적용
사용자 요청 기능 개선: SLA 범위 외 별도 협의
```

---
# 12. 백업 정책 연계 (요약)
Tank 시스템 자체는 DB를 보관하지 않지만, LogsDB는 백업 필요.
```
- LogsDB: 1일 1회 백업 권장
- 템플릿/설정파일: 배포 시마다 자동 백업
```

---
# 13. 예외 사항
아래는 SLA 대상 외:
- 고객사 서버 다운, 디스크 고장, 네트워크 장애
- 고객사 Oracle DB 장애
- 고객사 NAS 오류
- AWS SES 자체 장애(AWS SLA 적용)
- 방화벽/보안장비 정책 변경에 따른 영향

---
# 14. SLA 준수를 위한 고객사 역할
```
1) Oracle DB 계정/네트워크 정상 유지
2) NAS 경로 정상 제공
3) SES 도메인 인증 유지(SPF/DKIM)
4) 서버 자원(CPU/RAM/Disk) 모니터링
5) 사용자 관리 및 접근 통제
```

---
# 15. SLA 문서 버전 관리
```
v1: 최초 작성
v2: 장애 등급 세분화 및 RTO 추가
v3: 고객사 요구사항 반영 후 갱신
```

---
# 16. 다음 문서
- Backup & Recovery 가이드
- Batch 파일 생성 가이드 (배치 시스템 포함 시)

